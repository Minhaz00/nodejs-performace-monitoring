{
  "annotations": {
    "list": []
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
      "id": 100,
      "panels": [],
      "title": "Application Health Overview",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "thresholds": {
            "steps": [
              {"color": "red", "value": null},
              {"color": "yellow", "value": 95},
              {"color": "green", "value": 99}
            ]
          },
          "unit": "percent"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 0, "y": 1},
      "id": 1,
      "options": {"colorMode": "background", "reduceOptions": {"calcs": ["lastNotNull"]}},
      "targets": [{"expr": "100 * (sum(rate(http_requests_total{status_code!~\"5..\"}[5m])) / sum(rate(http_requests_total[5m])))", "refId": "A"}],
      "title": "✅ Availability %",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "thresholds": {
            "steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 50},
              {"color": "red", "value": 100}
            ]
          },
          "unit": "reqps"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 6, "y": 1},
      "id": 2,
      "options": {"colorMode": "background", "reduceOptions": {"calcs": ["lastNotNull"]}},
      "targets": [{"expr": "sum(rate(http_requests_total[1m]))", "refId": "A"}],
      "title": "✅ Requests Per Second (RPS)",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "thresholds": {
            "steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 2},
              {"color": "red", "value": 5}
            ]
          },
          "unit": "s"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 12, "y": 1},
      "id": 3,
      "options": {"colorMode": "background", "reduceOptions": {"calcs": ["lastNotNull"]}},
      "targets": [{"expr": "histogram_quantile(0.99, rate(http_request_duration_seconds_bucket[5m]))", "refId": "A"}],
      "title": "✅ Request Latency P99",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "thresholds": {
            "steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 15},
              {"color": "red", "value": 19}
            ]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 18, "y": 1},
      "id": 4,
      "options": {"colorMode": "background", "reduceOptions": {"calcs": ["lastNotNull"]}},
      "targets": [{"expr": "db_connections_active", "refId": "A"}],
      "title": "✅ DB Connection Count",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 7},
      "id": 101,
      "panels": [],
      "title": "Performance & Database Metrics",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "s"
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
      "id": 5,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [
        {"expr": "histogram_quantile(0.90, rate(http_request_duration_seconds_bucket[5m]))", "legendFormat": "P90", "refId": "A"},
        {"expr": "histogram_quantile(0.99, rate(http_request_duration_seconds_bucket[5m]))", "legendFormat": "P99", "refId": "B"}
      ],
      "title": "✅ Request Latency (P90/P99)",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "s"
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
      "id": 6,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [
        {"expr": "histogram_quantile(0.90, rate(db_query_duration_seconds_bucket{operation=\"insert\"}[5m]))", "legendFormat": "Insert P90", "refId": "A"},
        {"expr": "histogram_quantile(0.90, rate(db_query_duration_seconds_bucket{operation=\"select\"}[5m]))", "legendFormat": "Select P90", "refId": "B"}
      ],
      "title": "✅ DB Insert Latency P90",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 16},
      "id": 102,
      "panels": [],
      "title": "System Resources (CPU & Memory)",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "percent", "min": 0, "max": 100
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 17},
      "id": 7,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [{"expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)", "legendFormat": "CPU Usage %", "refId": "A"}],
      "title": "✅ CPU Usage",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "percent", "min": 0, "max": 100
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 17},
      "id": 8,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [{"expr": "100 * (1 - ((node_memory_MemAvailable_bytes or node_memory_MemFree_bytes) / node_memory_MemTotal_bytes))", "legendFormat": "Memory Usage %", "refId": "A"}],
      "title": "✅ Memory Usage",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 25},
      "id": 103,
      "panels": [],
      "title": "Network & Advanced Metrics",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "MBs"
        }
      },
      "gridPos": {"h": 8, "w": 8, "x": 0, "y": 26},
      "id": 9,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [
        {"expr": "rate(node_network_receive_bytes_total{device!=\"lo\"}[5m]) / 1024 / 1024", "legendFormat": "RX {{device}}", "refId": "A"},
        {"expr": "rate(node_network_transmit_bytes_total{device!=\"lo\"}[5m]) / 1024 / 1024", "legendFormat": "TX {{device}}", "refId": "B"}
      ],
      "title": "✅ Network RX/TX Pressure",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "short"
        }
      },
      "gridPos": {"h": 8, "w": 8, "x": 8, "y": 26},
      "id": 10,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [
        {"expr": "rate(node_cpu_seconds_total{mode=\"steal\"}[5m])", "legendFormat": "CPU Steal (Throttling)", "refId": "A"},
        {"expr": "node_load1", "legendFormat": "Load 1m", "refId": "B"},
        {"expr": "node_load5", "legendFormat": "Load 5m", "refId": "C"}
      ],
      "title": "✅ CPU Throttling & Load",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "PBFA97CFB590B2093"},
      "fieldConfig": {
        "defaults": {
          "custom": {
            "drawStyle": "line", "lineInterpolation": "linear", "barAlignment": 0, "lineWidth": 1,
            "fillOpacity": 0, "gradientMode": "none", "spanNulls": false, "insertNulls": false,
            "showPoints": "auto", "pointSize": 5, "stacking": {"mode": "none", "group": "A"},
            "axisPlacement": "auto", "axisLabel": "", "scaleDistribution": {"type": "linear"},
            "hideFrom": {"legend": false, "tooltip": false, "vis": false}, "thresholdsStyle": {"mode": "off"}
          },
          "color": {"mode": "palette-classic"}, "unit": "percent"
        }
      },
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 26},
      "id": 11,
      "options": {"tooltip": {"mode": "single", "sort": "none"}, "legend": {"displayMode": "list", "placement": "bottom"}},
      "targets": [
        {"expr": "100 * (sum(rate(http_requests_total{status_code=~\"5..\"}[5m])) / sum(rate(http_requests_total[5m])))", "legendFormat": "5xx Error Rate", "refId": "A"},
        {"expr": "100 * (sum(rate(http_requests_total{status_code=~\"4..\"}[5m])) / sum(rate(http_requests_total[5m])))", "legendFormat": "4xx Error Rate", "refId": "B"}
      ],
      "title": "✅ Error Rates",
      "type": "timeseries"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 37,
  "style": "dark",
  "tags": ["nodejs", "monitoring", "performance"],
  "templating": {"list": []},
  "time": {"from": "now-1h", "to": "now"},
  "timepicker": {},
  "timezone": "",
  "title": "Node.js Performance Monitoring - Complete",
  "uid": "nodejs-monitoring-complete",
  "version": 1,
  "weekStart": ""
}